<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
	</head>
	<body>
	</body>
	<script type="text/javascript">
		//图书管理系统
		//书    属性：书名 作者名  价钱  
		//管理系统  
		     //数组
		     //1.添加一本书
		     //2.修改书的价钱（书名）
		     //3.删除书（书名）
		     //4.删除书（作者名）
		     //5.查（书名）
		     //6.查（作者名）
		     //7.查（价钱的区间）
		     //8.展示所有的书
	</script>
	<script type="text/javascript">
		function Book(name,author,price){
			this.name=name;
			this.author=author;
			this.price=price;
			this.printInfo=function(){
				console.log("书名"+this.name+"| 作者："+this.author+"| 价钱：￥"+this.price);
			}
		}
		
		function BookMangerSystem(){
			this.bookArr=new Array();
			this.addBook=function(newBook){
				//添加书
				this.bookArr.push(newBook);
			};
			this.changeBookPrice=function(bookName,newPrice){
				for(var i=0;i<this.bookArr.length;i++){
					if(this.bookArr[i].name==bookName){						
						this.bookArr[i].price=newPrice;
						return;
					}
				}
				console.log("没有此书，修改失败");
			};
			this.deleteBookWithName=function(bookName){
				for(var i=0;i<this.bookArr.length;i++){
					if(this.bookArr[i].name==bookName){
						this.bookArr.splice(i,1);
						return;
					}
				}
				console.log("没有此书，删除失败");
			};
			
			this.deleteBookWithAuthor=function(author){
				var tag=false;
				for(var i=0;i<this.bookArr.length;i++){
					if(this.bookArr[i].author==author){
						tag=true;
						this.bookArr.splice(i,1);
						i--;
					}
				}
				if(tag==false){
				console.log("没有此书，删除失败");	
				}
				
			}
			
			this.searchBookName=function(bookName){
				for(var i=0;i<this.bookArr.length;i++){
					if(this.bookArr[i].name==bookName){
						console.log(this.bookArr[i]);
						return;
					}
				}
				console.log("没有此书,查找失败");
			};
			this.searchBookWithAuthor=function(author){
				var tag=false;
				for(var i=0;i<this.bookArr.length;i++){
					if(this.bookArr[i].author==author){
						tag=true;
						console.log(this.bookArr[i]);
					}
				}
				if(tag==false){
					console.log("没有此作者的书，查找失败");
				}
			};
			this.searchBookWithMoney=function(minPrice,maxPrice){
				var tag=false;
				for(var i=0;i<this.bookArr.length;i++){
					if(this.bookArr[i].price>=minPrice&&this.bookArr[i].price<=maxPrice)
					{
						tag=true;
//						console.log(this.bookArr[i]);
						this.bookArr[i].printInfo();
						return;
					}
				}
				if(tag==false){
					console.log("没有此书");
				}
			}
			this.showAllBooks=function(){
				for(var i=0;i<this.bookArr.length;i++){
					console.log(this.bookArr[i]);
//					this.bookArr[i].printInfo();
				}
			}
		}
		
		var  b1=new Book("《梦里花落知多少》","郭敬明",24.5);
		var  b2=new Book("《JavaScript高级编程语言》","Jack",99.8);
		var  b3=new Book("《幻城》","郭敬明",33.6);
		
		var bkMg=new BookMangerSystem();
		bkMg.addBook(b1);
		bkMg.addBook(b2);
		bkMg.addBook(b3);
		bkMg.showAllBooks();
		
		console.log("********************");		
		
		bkMg.changeBookPrice("《幻城》",100);
		bkMg.showAllBooks();
		console.log("-----------------");
		bkMg.searchBookWithMoney(0,100);
		
		console.log("-----------------");
		bkMg.searchBookWithMoney(0,30);		
	</script>
</html>
