<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<style type="text/css">
		    *{
		    	margin: 0;
		    	padding: 0;
		    }

			.box{
				width: 150px;
				height: 150px;
				border: 1px solid red;				
				border-radius: 5px;
				position: absolute;
				display: none;
			}
			li{
				list-style: none;
				padding: 10px;
			}
			.sub{
				width: 150px;
				height: 150px;
				border-radius: 5px;
				border:1px solid red;
				position: absolute;
				display: none;
			}
		</style>
	</head>
	<body>
		<div class="box">
			<ul class="first">
				<li>1</li>
				<li>2</li>
				<li>3
					<ul class="sub">
						<li>3.1</li>
						<li>3.2</li>
						<li>3.3</li>
					</ul>
				</li>
			</ul>
		</div>
	</body>
	<script type="text/javascript">
		var box=document.querySelector(".box");
		var first=document.querySelector(".first");
		var lis=document.querySelectorAll("li");

		document.oncontextmenu=function(ev){
			ev.preventDefault();
			box.style.display="block";			
			box.style.left=ev.clientX+"px";
			box.style.top=ev.clientY+"px";
//			console.log("右键");
		}
		
		for(var i=0;i<lis.length;i++){
			
			lis[i].onmouseover=function(){
				console.log(this);
				this.style.background="red";
				if(this.children.length>0&&this.children[0].className=="sub"){
				var sub=this.getElementsByClassName("sub")[0];	
				 	sub.style.display="block";
					sub.style.left=(this.offsetLeft+this.offsetWidth)+"px";
					sub.style.top=(this.offsetTop)+"px";
				}
				

			}
			lis[i].onmouseout=function(){
				console.log(this);
				this.style.background="white";
//				sub.style.display="none";
			}			
		}
//		first.onmouseout=function(){
//			box.style.display="none";
//		}
	</script>
</html>
