<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<title></title>
	</head>
	<body>
		
	</body>
	<script type="text/javascript">
		var calcBounds=function(level,salary){
			if(level=='s'){
				return salary*4;
			}
			if(level=='a'){
				return salary*3;
			}
			if(level=='b'){
				return salary*2;
			}			
		};
		
		var tom={};
		tom.name="tom";
		tom.salary="30000";
		tom.level='s';
		//计算tom的年终奖
		
		var yearMoney=calcBounds(tom.level,tom.salary);
		console.log(yearMoney);
		
		
		//组合函数的方式对其进行重构
		function performanceS(salary){
			return salary*4;
		}
		function performanceA(salary){
			return salary*3;
		}
		function performanceB(salary){
			return salary*2;
		}		
		
		var calcBounds=function(level,salary){
			if(level=='s'){
				return performanceS(salary);
			}
			if(level=='a'){
				return performanceA(salary);
			}
			if(level=='b'){
				return performanceB(salary);
			}			
		}
		//javascript 的策略模式的实现
		var performanceS=function(){
			performanceS.prototype.calc=function(salary){
				return salary*4;
			}
		}
		var performanceA=function(){
			performanceA.prototype.calc=function(salary){
				return salary*3;
			}
		}		
		//两个算法
		//定义一个奖金类
		var Bounds=function(strategy,salary){
			this.salary=salary;
			this.strategy=strategy;
		}
		Bounds.prototype.setSalary=function(salary){
			this.salary=salary;
		}
		Bounds.prototype.setStrategy=function(strategy){
			this.strategy=strategy;
		}
		Bounds.prototype.getBounds=function(){
	         return this.strategy.prototype.calc(this.salary);
		}
		var myBounds=new Bounds(performanceA,20000);
		console.log(myBounds.getBounds());
		myBounds.setSalary(3000);
		myBounds.setStrategy(performanceS);
		console.log(myBounds.getBounds());
		
		
		
		//
		
		var strategies={
			'A':function(salary){
				return salary*2;
			}
		}
		strategies['C']=function(salary){
			return  salary*1
		}
		
		var calculatorBonus=function(level,salary){
			return strategies[level](salary);
		}
		
	</script>
</html>
